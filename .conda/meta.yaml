{% set data = load_setup_py_data(setup_file="../setup.py", from_recipe_dir=True) %}

package:
  name: {{ data.get("name")|lower }}
  version: {{ data.get("version", environ["BOTORCH_VERSION"]) }}

source:
  path: ..

build:
  noarch: python
  script: "$PYTHON setup.py install --single-version-externally-managed --record=record.txt"

requirements:
  host:
    - python>=3.10
    - setuptools
    - setuptools_scm
  run:
    - pytorch >=2.0.1
    - gpytorch ==1.13
    - linear_operator ==0.5.3
    - scipy
    - multipledispatch
    - pyro-ppl >=1.8.4

test:
  imports:
    - botorch
    - botorch.acquisition
    - botorch.exceptions
    - botorch.generation
    - botorch.models
    - botorch.optim
    - botorch.posteriors
    - botorch.sampling
    - botorch.test_functions
    - botorch.utils
    - botorch.cross_validation
    - botorch.fit
    - botorch.logging
    - botorch.settings

about:
  home: https://botorch.org
  license: MIT
  license_file: LICENSE
  summary: Bayesian Optimization in PyTorch
  doc_url: https://botorch.org/docs/introduction
  dev_url: https://github.com/pytorch/botorch
